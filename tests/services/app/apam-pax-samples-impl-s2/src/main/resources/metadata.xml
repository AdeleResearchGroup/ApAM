<apam xmlns="fr.imag.adele.apam" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="fr.imag.adele.apam http://repository-apam.forge.cloudbees.com/release/schema/ApamCore.xsd">

	<implementation name="fr.imag.adele.apam.pax.test.impl.S2Impl"
		classname="fr.imag.adele.apam.pax.test.impl.S2Impl" specification="fr.imag.adele.apam.pax.test.iface.S2">
		<dependency field="deadMansSwitch" />
	</implementation>

	<implementation name="fr.imag.adele.apam.pax.test.impl.S2OutterImpl"
		classname="fr.imag.adele.apam.pax.test.impl.S2OutterImpl"
		specification="fr.imag.adele.apam.pax.test.iface.S2">
	</implementation>

	<implementation name="fr.imag.adele.apam.pax.test.impl.S2MiddleImpl"
		classname="fr.imag.adele.apam.pax.test.impl.S2MiddleImpl"
		specification="fr.imag.adele.apam.pax.test.iface.S2">
		<dependency field="outter">
			<constraints>
				<implementation
					filter="(name=fr.imag.adele.apam.pax.test.impl.S2OutterImpl)" />
			</constraints>
		</dependency>
	</implementation>

	<implementation name="fr.imag.adele.apam.pax.test.impl.S2InnerImpl"
		classname="fr.imag.adele.apam.pax.test.impl.S2InnerImpl"
		specification="fr.imag.adele.apam.pax.test.iface.S2">
		<dependency field="middle">
			<constraints>
				<implementation
					filter="(name=fr.imag.adele.apam.pax.test.impl.S2MiddleImpl)" />
			</constraints>
		</dependency>
	</implementation>

	<implementation name="deadMansSwitch"
		classname="fr.imag.adele.apam.pax.test.device.DeadsManSwitch"
		specification="eletronic-device">
		<property name="manufacturer" value="philips" />
		<property name="voltage" value="110" />
		<property name="hasDisplay" value="false" />
	</implementation>

	<composite name="S2Impl-composite-1" main="fr.imag.adele.apam.pax.test.impl.S2Impl"
		shared="true">
		<contentMngt>
			<borrow instance="false" />
			<borrow implementation="false" />
		</contentMngt>
	</composite>

	<composite name="S2Impl-composite-eager" main="fr.imag.adele.apam.pax.test.impl.S2Impl">
		<contentMngt>
			<dependency specification="eletronic-device"
				eager="true">
			</dependency>
		</contentMngt>
	</composite>

	<composite name="S2Impl-meta-composite"
		main="fr.imag.adele.apam.pax.test.impl.S2InnerImpl">
	</composite>

</apam>
